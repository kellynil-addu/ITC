<!DOCTYPE html>
  <head>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>Income Tax Calculator</h1>
    <main>
        <article>
            <small>Type in the amount and the result will automatically be calculated for you.</small> <br>
            
            <div class="wrapped">
                <section>
                    <h3>Calculator</h3>
    
                    <label>Taxable Income:</label>
                    <input type="number" id="taxable_inc" value="0"> <br>
                
                    <label>Tax Payable:</label>
                    <input type="number" id="res" readonly value="0"> <br>
                    <p>
                        <small id="message">No tax entered yet.</small>
                    </p>
                </section>

            </div>

        </article>
        <aside>
            <h2>Assignment Description</h2>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras ornare nibh sed dolor ullamcorper euismod. Fusce aliquam sapien nec neque consequat faucibus. Sed semper dui vitae eros placerat, vitae bibendum ante accumsan. Duis ultrices laoreet mi vel lacinia. Etiam eros odio, sagittis et euismod id, eleifend vitae leo. Nam commodo euismod sem quis rutrum. Mauris consectetur nisl vel dui ullamcorper, nec bibendum nulla fermentum. Fusce tristique diam eu scelerisque aliquam. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. 
            </p>
            <nav>
                <a href="/ITC/assign1-conversions.html">
                    <b><small>Previous project</small></b>
                    <span>Unit Conversions</span>
                </a>
                <a href="/ITC/assign3-forloop.html">
                    <b><small>Next project</small></b>
                    <span>Factorial, Sum, Average</span>
                </a>
                <a href="/ITC">
                    <b><small>Quit</small></b>
                    <span>Return to homepage</span>
                </a>
            </nav>
        </aside>
    </main>

    <script>
        document.getElementById("taxable_inc").addEventListener("keyup", () => {

            let taxable_inc = document.getElementById("taxable_inc").value * 1
            let excess, rate, btax, msg
    
            if (taxable_inc < 250000) {
                btax = 0
                excess = 0
                rate = 0
                msg = "You do not reach the minimum amount (250,000 pesos) to be subject to income tax."
            } else if (taxable_inc < 400000) {
                btax = 0
                excess = 250000
                rate = 0.2
                msg = "Your income tax is 20% of the excess (250,000 pesos)."
            } else if (taxable_inc < 800000) {
                btax = 30000
                excess = 400000
                rate = 0.25
                msg = "Your income tax is 25% of the excess (400,000 pesos)."
            } else if (taxable_inc < 2000000) {
                btax = 130000
                excess = 800000
                rate = 0.3
                msg = "The income tax is 30% of the excess (800,000 pesos)."
            } else if (taxable_inc < 8000000) {
                btax = 490000
                excess = 2000000
                rate = 0.32
                msg = "The income tax is 32% of the excess (2,000,000 pesos)."
            } else {
                btax = 2410000
                excess = 8000000
                rate = 0.35
                msg = "The income tax is 35% of the excess (8,000,000 pesos)."
            }
    
            result = ((taxable_inc - excess) * rate) + btax
    
            document.getElementById("res").value = result
            document.getElementById("message").innerHTML = msg
        })
      </script>
  </body>

  
</html>
